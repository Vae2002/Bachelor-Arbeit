<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diet Calculator</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Button Styling */
        .btn-outline-primary {
            color: #007bff;
            border-color: #007bff;
        }

        .btn-outline-primary:hover {
            background-color: #007bff;
            color: white;
        }

        /* Form Field Adjustments */
        .form-control {
            font-size: 1rem;
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid #ced4da;
        }

        /* Optional Input Fields */
        .optional-inputs .form-control {
            background-color: #f8f9fa;
        }

        /* Form Container */
        .container {
            max-width: 900px;
            margin: auto;
        }

        /* Header Navigation Styling */
        .navbar {
            margin-bottom: 20px;
        }

        .navbar a {
            color: #007bff;
            text-decoration: none;
            font-size: 18px;
        }

        .navbar a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Header with Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="/">Home</a>  <!-- Link to the homepage -->
            <h2 class="ml-auto">Diet Calculator</h2>
        </div>
    </nav>

    <!-- Diet Calculator Form -->
    <div class="container mt-4">
        <h2 class="text-center">Diet Calculator</h2>
        
        <form id="diet-form" method="POST">
            <!-- Weight, Height, Age, Gender, Goal, and Physical Activity -->
            <div class="mb-3">
                <label for="weight" class="form-label">Weight (kg or lbs):</label>
                <input type="number" id="weight" name="weight" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="height" class="form-label">Height (cm or inches):</label>
                <input type="number" id="height" name="height" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="age" class="form-label">Age:</label>
                <input type="number" id="age" name="age" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="gender" class="form-label">Gender:</label>
                <select id="gender" name="gender" class="form-control" required>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="goal" class="form-label">Goal:</label>
                <select id="goal" name="goal" class="form-control" required>
                    <option value="lose_weight">Lose Weight</option>
                    <option value="maintain_weight">Maintain Weight</option>
                    <option value="gain_weight">Gain Weight</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="activity" class="form-label">Physical Activity Level:</label>
                <select id="activity" name="activity" class="form-control" required>
                    <option value="sedentary">Sedentary (little to no exercise)</option>
                    <option value="light">Light Activity (1-3 days/week)</option>
                    <option value="moderate">Moderate Activity (3-5 days/week)</option>
                    <option value="intense">Intense Activity (6-7 days/week)</option>
                </select>
            </div>
            
            <!-- Optional Inputs -->
            <div class="optional-inputs">
                <div class="mb-3">
                    <label for="neck" class="form-label">Neck Size (optional, cm or inches):</label>
                    <input type="number" id="neck" name="neck" class="form-control">
                </div>
                <div class="mb-3">
                    <label for="waist" class="form-label">Waist Size (optional, cm or inches):</label>
                    <input type="number" id="waist" name="waist" class="form-control">
                </div>
                <div class="mb-3">
                    <label for="hip" class="form-label">Hip Size (optional, cm or inches):</label>
                    <input type="number" id="hip" name="hip" class="form-control">
                </div>
                <div class="mb-3">
                    <label for="protein" class="form-label">Protein (%):</label>
                    <input type="number" id="protein" name="protein" class="form-control" value="30">
                </div>
                <div class="mb-3">
                    <label for="fat" class="form-label">Fat (%):</label>
                    <input type="number" id="fat" name="fat" class="form-control" value="30">
                </div>
                <div class="mb-3">
                    <label for="carbs" class="form-label">Carbs (%):</label>
                    <input type="number" id="carbs" name="carbs" class="form-control" value="40">
                </div>
            </div>
            
            <!-- Metrics Dropdown (kg/cm or lbs/inches) -->
            <div class="mb-3">
                <label for="metric" class="form-label">Unit System:</label>
                <select id="metric" name="metric" class="form-control" required>
                    <option value="metric">Metric (kg, cm)</option>
                    <option value="imperial">Imperial (lbs, inches)</option>
                </select>
            </div>
            
            <!-- Submit Button -->
            <button type="submit" class="btn btn-outline-primary btn-block">Calculate</button>
        </form>

        <!-- If the results are available, show them -->
        {% if bmr %}
        <div class="mt-4">
            <h4>Your Results:</h4>
            <p><strong>BMR:</strong> {{ bmr }} kcal/day</p>
            <p><strong>TDEE:</strong> {{ tdee }} kcal/day</p>
            <p><strong>Protein:</strong> {{ protein_grams }} g/day</p>
            <p><strong>Fat:</strong> {{ fat_grams }} g/day</p>
            <p><strong>Carbs:</strong> {{ carbs_grams }} g/day</p>
        </div>
        {% endif %}
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
